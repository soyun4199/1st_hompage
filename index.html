<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Re:Connect+ - ìê¸°ê´€ë¦¬ & ì‚¬íšŒì  ì—°ê²° ì•±</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- ë‹¨ì¼ HTML + CSS + JSë¡œ êµ¬ì„±ëœ ë²„ì „ (GitHub + Vercel ë°°í¬ìš©) -->
  <style>
    :root {
      --bg: #050816;
      --bg-soft: #0b1220;
      --accent: #3b82f6;
      --accent-soft: rgba(59, 130, 246, 0.15);
      --card: #020617;
      --text: #e5e7eb;
      --text-soft: #9ca3af;
      --danger: #f97373;
      --success: #4ade80;
      --border: #1f2933;
      --radius-lg: 18px;
      --radius-md: 12px;
      --shadow-soft: 0 18px 40px rgba(0,0,0,0.45);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #1d2640 0, #020617 45%, #000 100%);
      color: var(--text);
    }

    .app {
      max-width: 1100px;
      margin: 0 auto;
      padding: 20px 16px 32px;
    }

    header {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      align-items: flex-start;
      gap: 12px;
      margin-bottom: 18px;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo-icon {
      width: 38px;
      height: 38px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 0%, #4f46e5, #0ea5e9);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 900;
      box-shadow: 0 0 25px rgba(56, 189, 248, 0.6);
    }

    .logo-text-main {
      font-size: 1.15rem;
      font-weight: 700;
    }

    .logo-text-sub {
      font-size: 0.78rem;
      color: var(--text-soft);
    }

    .tagline {
      font-size: 0.8rem;
      color: var(--text-soft);
      text-align: right;
      max-width: 260px;
    }

    .stats-header {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 16px;
    }

    .stat-chip {
      flex: 1 1 120px;
      padding: 10px 12px;
      border-radius: 999px;
      background: linear-gradient(to right, rgba(15,23,42,0.9), rgba(15,23,42,0.4));
      border: 1px solid rgba(148,163,184,0.3);
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 0.8rem;
    }

    .stat-chip span.value {
      font-weight: 700;
      color: #bfdbfe;
    }

    .nav-tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 16px;
    }

    .tab-btn {
      flex: 1 1 150px;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      background: rgba(15,23,42,0.8);
      color: var(--text-soft);
      font-size: 0.82rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      transition: all 0.18s ease-out;
    }

    .tab-btn.active {
      background: radial-gradient(circle at top, #2563eb, #0f172a);
      color: #eff6ff;
      border-color: transparent;
      box-shadow: 0 10px 30px rgba(37,99,235,0.6);
    }

    main {
      display: grid;
      grid-template-columns: minmax(0, 2.2fr) minmax(0, 1.6fr);
      gap: 16px;
    }

    @media (max-width: 880px) {
      main {
        grid-template-columns: 1fr;
      }
    }

    .card {
      background: radial-gradient(circle at top, rgba(37,99,235,0.18), rgba(15,23,42,0.95));
      border-radius: 22px;
      border: 1px solid rgba(148,163,184,0.35);
      padding: 16px 16px 14px;
      box-shadow: var(--shadow-soft);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top left, rgba(59,130,246,0.16), transparent 55%);
      opacity: 0.8;
      pointer-events: none;
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      position: relative;
      z-index: 1;
    }

    .card-title {
      font-size: 0.96rem;
      font-weight: 700;
    }

    .card-subtitle {
      font-size: 0.76rem;
      color: var(--text-soft);
    }

    .badge {
      font-size: 0.7rem;
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(15,23,42,0.85);
      border: 1px solid rgba(148,163,184,0.5);
      color: var(--text-soft);
    }

    .section {
      display: none;
      position: relative;
      z-index: 1;
    }

    .section.active {
      display: block;
    }

    /* í”„ë¡œê·¸ë ˆìŠ¤ ë°” */
    .xp-wrapper {
      margin-bottom: 12px;
    }

    .xp-label-row {
      display: flex;
      justify-content: space-between;
      font-size: 0.78rem;
      color: var(--text-soft);
      margin-bottom: 3px;
    }

    .xp-bar {
      width: 100%;
      height: 8px;
      border-radius: 999px;
      background: rgba(15,23,42,0.9);
      overflow: hidden;
      border: 1px solid rgba(30,64,175,0.7);
    }

    .xp-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(to right, #22c55e, #3b82f6, #a855f7);
      transition: width 0.25s ease-out;
    }

    /* ì˜¤ëŠ˜ì˜ ë¯¸ì…˜ */
    .goals-list {
      list-style: none;
      padding: 0;
      margin: 0;
      display: grid;
      gap: 8px;
    }

    .goal-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(15,23,42,0.95);
      border: 1px solid rgba(148,163,184,0.4);
      font-size: 0.82rem;
    }

    .goal-item input[type="checkbox"] {
      width: 16px;
      height: 16px;
      cursor: pointer;
    }

    .goal-label {
      flex: 1;
    }

    .goal-item.completed {
      opacity: 0.55;
      text-decoration: line-through;
    }

    .goal-xp {
      font-size: 0.7rem;
      color: #a5b4fc;
    }

    /* ê°ì • ì…ë ¥ */
    .emotion-box {
      margin-top: 12px;
      padding: 10px 10px 8px;
      background: rgba(15,23,42,0.95);
      border-radius: 16px;
      border: 1px solid rgba(148,163,184,0.4);
      font-size: 0.8rem;
    }

    .emotion-input-row {
      display: flex;
      gap: 6px;
      margin-top: 6px;
    }

    .emotion-input-row input {
      flex: 1;
      padding: 6px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.5);
      background: rgba(15,23,42,0.95);
      color: var(--text);
      font-size: 0.78rem;
      outline: none;
    }

    .btn {
      border-radius: 999px;
      border: none;
      padding: 6px 10px;
      font-size: 0.78rem;
      cursor: pointer;
      font-weight: 600;
      background: linear-gradient(to right, #2563eb, #4f46e5);
      color: white;
      box-shadow: 0 8px 20px rgba(37,99,235,0.6);
      white-space: nowrap;
    }

    .btn.outline {
      background: transparent;
      border: 1px solid rgba(148,163,184,0.6);
      box-shadow: none;
      color: var(--text-soft);
    }

    .emotion-response {
      margin-top: 6px;
      font-size: 0.75rem;
      color: #e0f2fe;
    }

    /* AI Lab */
    .ai-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 8px;
      font-size: 0.78rem;
    }

    .ai-card {
      padding: 8px 9px;
      border-radius: 14px;
      background: rgba(15,23,42,0.98);
      border: 1px solid rgba(148,163,184,0.5);
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .ai-name-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: 600;
      font-size: 0.8rem;
    }

    .ai-role {
      color: var(--text-soft);
      font-size: 0.74rem;
    }

    /* Rival Battle */
    .rival-layout {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 10px;
      margin-bottom: 10px;
      font-size: 0.8rem;
    }

    .rival-panel {
      padding: 8px 9px;
      border-radius: 16px;
      border: 1px solid rgba(148,163,184,0.5);
      background: rgba(15,23,42,0.95);
    }

    .rival-name {
      font-weight: 600;
      margin-bottom: 3px;
    }

    .score {
      font-size: 1.1rem;
      font-weight: 800;
      margin: 4px 0;
    }

    .score.me {
      color: #a5b4fc;
    }

    .score.ai {
      color: #f97373;
    }

    .rival-result {
      text-align: center;
      font-size: 0.78rem;
      margin-top: 4px;
    }

    /* Social Connect */
    .social-tabs {
      display: flex;
      gap: 6px;
      margin-bottom: 8px;
      font-size: 0.76rem;
    }

    .social-tab-btn {
      flex: 1;
      padding: 5px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.5);
      background: rgba(15,23,42,0.9);
      color: var(--text-soft);
      cursor: pointer;
    }

    .social-tab-btn.active {
      background: radial-gradient(circle at top, #22c55e, #14532d);
      color: #ecfdf5;
      border-color: transparent;
    }

    .social-section {
      display: none;
      font-size: 0.78rem;
    }

    .social-section.active {
      display: block;
    }

    .chat-window {
      height: 165px;
      overflow-y: auto;
      padding: 8px 6px;
      border-radius: 14px;
      background: rgba(15,23,42,0.96);
      border: 1px solid rgba(148,163,184,0.4);
    }

    .chat-msg {
      margin-bottom: 6px;
      max-width: 90%;
      padding: 6px 8px;
      border-radius: 12px;
      line-height: 1.2;
    }

    .chat-msg.user {
      margin-left: auto;
      background: rgba(37,99,235,0.8);
    }

    .chat-msg.ai {
      margin-right: auto;
      background: rgba(15,23,42,0.95);
      border: 1px solid rgba(148,163,184,0.5);
    }

    .chat-input-row {
      display: flex;
      gap: 6px;
      margin-top: 6px;
    }

    .chat-input-row input {
      flex: 1;
      padding: 6px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.5);
      background: rgba(15,23,42,0.98);
      color: var(--text);
      font-size: 0.78rem;
      outline: none;
    }

    .placeholder-box {
      padding: 8px 10px;
      border-radius: 14px;
      background: rgba(15,23,42,0.98);
      border: 1px dashed rgba(148,163,184,0.5);
      font-size: 0.76rem;
      color: var(--text-soft);
    }

    /* Report */
    .report-metrics {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
      gap: 8px;
      font-size: 0.78rem;
    }

    .metric-card {
      padding: 8px 9px;
      border-radius: 16px;
      background: rgba(15,23,42,0.96);
      border: 1px solid rgba(148,163,184,0.5);
    }

    .metric-label {
      color: var(--text-soft);
      font-size: 0.74rem;
    }

    .metric-value {
      font-size: 1rem;
      font-weight: 700;
      margin-top: 4px;
    }

    .metric-note {
      font-size: 0.72rem;
      margin-top: 2px;
      color: #e0f2fe;
    }

    footer {
      margin-top: 18px;
      font-size: 0.7rem;
      color: var(--text-soft);
      text-align: center;
      opacity: 0.8;
    }
  </style>
</head>
<body>
  <div class="app">
    <header>
      <div class="logo">
        <div class="logo-icon">R</div>
        <div>
          <div class="logo-text-main">Re:Connect+</div>
          <div class="logo-text-sub">AI ê¸°ë°˜ ìê¸°ê´€ë¦¬ & ì‚¬íšŒì  ì—°ê²° í”Œë«í¼</div>
        </div>
      </div>
      <div class="tagline">
        ì€ë‘”í˜• ì™¸í†¨ì´ì™€ ì‰¬ì—ˆìŒ ì„¸ëŒ€ë¥¼ ìœ„í•œ<br/>
        <strong>ì‘ì€ í–‰ë™ â†’ ë£¨í‹´ â†’ ì—°ê²°</strong> íšŒë³µ ì•±
      </div>
    </header>

    <div class="stats-header">
      <div class="stat-chip">
        <span>í˜„ì¬ ë ˆë²¨</span>
        <span class="value" id="level-display">1</span>
      </div>
      <div class="stat-chip">
        <span>ì´ XP</span>
        <span class="value" id="xp-display">0</span>
      </div>
      <div class="stat-chip">
        <span>ì˜¤ëŠ˜ ì™„ë£Œí•œ ë¯¸ì…˜</span>
        <span class="value" id="today-goals-count">0</span>
      </div>
    </div>

    <div class="nav-tabs">
      <button class="tab-btn active" data-tab="home">ğŸ  í™ˆ</button>
      <button class="tab-btn" data-tab="ai-lab">ğŸ¤– AI Lab</button>
      <button class="tab-btn" data-tab="rival">ğŸ® Rival Battle</button>
      <button class="tab-btn" data-tab="social">ğŸ’¬ Social Connect</button>
      <button class="tab-btn" data-tab="report">ğŸ“Š ë¦¬í¬íŠ¸</button>
    </div>

    <main>
      <!-- ì™¼ìª½ í° ì¹´ë“œ: íƒ­ ì»¨í…ì¸  -->
      <section class="card">
        <div class="card-header">
          <div>
            <div class="card-title" id="card-main-title">ì˜¤ëŠ˜ì˜ ì‘ì€ ë£¨í‹´ & ê°ì • ì¼€ì–´</div>
            <div class="card-subtitle" id="card-sub-title">
              ì‘ì€ í–‰ë™ì„ ì™„ë£Œí•  ë•Œë§ˆë‹¤ XPê°€ ìŒ“ì´ê³  ë ˆë²¨ì´ ì˜¬ë¼ê°‘ë‹ˆë‹¤.
            </div>
          </div>
          <span class="badge" id="card-badge">SELF-CARE MODE</span>
        </div>

        <!-- HOME SECTION -->
        <div class="section active" id="section-home">
          <div class="xp-wrapper">
            <div class="xp-label-row">
              <span>ë ˆë²¨ <span id="level-display-inline">1</span></span>
              <span><span id="xp-current-inline">0</span> XP / ë‹¤ìŒ ë ˆë²¨ê¹Œì§€ <span id="xp-to-next">50</span> XP</span>
            </div>
            <div class="xp-bar">
              <div class="xp-fill" id="xp-fill"></div>
            </div>
          </div>

          <ul class="goals-list" id="goals-list">
            <!-- JSë¡œ ìƒì„± -->
          </ul>

          <div class="emotion-box">
            <div>ì˜¤ëŠ˜ ê¸°ë¶„ì€ ì–´ë• ë‚˜ìš”? í•œ ì¤„ë¡œ ì ì–´ë³´ì„¸ìš”.</div>
            <div class="emotion-input-row">
              <input id="emotion-input" placeholder="ì˜ˆ: ì•„ë¬´ê²ƒë„ í•˜ê¸° ì‹«ì—ˆì–´ìš”..." />
              <button class="btn outline" id="emotion-btn">ê¸°ë¡ + AI í•œë§ˆë””</button>
            </div>
            <div class="emotion-response" id="emotion-response"></div>
          </div>
        </div>

        <!-- AI LAB SECTION -->
        <div class="section" id="section-ai-lab">
          <p style="font-size:0.8rem; color:var(--text-soft); margin-top:0;">
            AIë“¤ì„ <strong>ë„êµ¬ê°€ ì•„ë‹Œ 'ì—­í• '</strong>ë¡œ ë°”ë¼ë³´ê³  ì„ íƒí•˜ëŠ” ê³µê°„ì…ë‹ˆë‹¤.<br/>
            ì‹¤ì œ API ì—°ë™ ì „ ë°ëª¨ ë²„ì „ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
          </p>
          <div class="ai-grid">
            <div class="ai-card">
              <div class="ai-name-row">
                <span>ChatGPT</span>
                <span class="badge" style="font-size:0.65rem;">ê³µë¶€ ì½”ì¹˜</span>
              </div>
              <div class="ai-role">
                ê°œë… ì„¤ëª…, ì½”ë”© ì§ˆë¬¸, ê³¼ì œ íŒíŠ¸ë¥¼ ë„ì™€ì£¼ëŠ” í•™ìŠµ ì½”ì¹˜ ì—­í• .
              </div>
            </div>
            <div class="ai-card">
              <div class="ai-name-row">
                <span>Gemini</span>
                <span class="badge" style="font-size:0.65rem;">ë£¨í‹´ ì„¤ê³„ì</span>
              </div>
              <div class="ai-role">
                í•˜ë£¨ ì¼ì •ê³¼ ë£¨í‹´ì„ 5ë¶„ ë‹¨ìœ„ë¡œ ìª¼ê°œì–´ ì œì•ˆí•˜ëŠ” ì¼ì • ì„¤ê³„ì.
              </div>
            </div>
            <div class="ai-card">
              <div class="ai-name-row">
                <span>Claude</span>
                <span class="badge" style="font-size:0.65rem;">ê°ì • ìƒë‹´ì</span>
              </div>
              <div class="ai-role">
                ê°ì • ì¼ê¸°ë¥¼ ê°™ì´ ì¨ì£¼ê³  ë¶€ë“œëŸ½ê²Œ ìœ„ë¡œí•´ì£¼ëŠ” ì •ì„œ ì¼€ì–´ ë‹´ë‹¹.
              </div>
            </div>
            <div class="ai-card">
              <div class="ai-name-row">
                <span>Grok</span>
                <span class="badge" style="font-size:0.65rem;">ë„ë°œí˜• ë¼ì´ë²Œ</span>
              </div>
              <div class="ai-role">
                ê°€ë”ì€ ì§ì„¤ì ì´ê³  ì›ƒê¸´ ë©˜íŠ¸ë¡œ ê²½ìŸì‹¬ì„ ìê·¹í•˜ëŠ” Rival ìºë¦­í„°.
              </div>
            </div>
            <div class="ai-card">
              <div class="ai-name-row">
                <span>Perplexity</span>
                <span class="badge" style="font-size:0.65rem;">ë¦¬ì„œì¹˜ ì „ë¬¸ê°€</span>
              </div>
              <div class="ai-role">
                ê³¼ì œ, í”„ë¡œì íŠ¸ë¥¼ ìœ„í•œ ì •ë³´ ê²€ìƒ‰ê³¼ ìš”ì•½ì„ ë‹´ë‹¹í•˜ëŠ” íƒìƒ‰í˜• AI.
              </div>
            </div>
          </div>
        </div>

        <!-- RIVAL BATTLE SECTION -->
        <div class="section" id="section-rival">
          <div class="rival-layout">
            <div class="rival-panel">
              <div class="rival-name">ë‚˜ì˜ ì˜¤ëŠ˜ ì ìˆ˜</div>
              <div class="score me" id="my-score">0</div>
              <div style="font-size:0.74rem; color:var(--text-soft);">
                ì™„ë£Œí•œ ë¯¸ì…˜, ê°ì • ê¸°ë¡ ë“±ìœ¼ë¡œ ê³„ì‚°ëœ ì ìˆ˜ì…ë‹ˆë‹¤.
              </div>
            </div>
            <div class="rival-panel">
              <div class="rival-name" id="ai-rival-name">AI ë¼ì´ë²Œ (Gemini)</div>
              <div class="score ai" id="rival-score">0</div>
              <div style="font-size:0.74rem; color:var(--text-soft);">
                ì˜¤ëŠ˜ Rivalì˜ ê°€ìƒ ì ìˆ˜ì…ë‹ˆë‹¤. ì´ ì ìˆ˜ë¥¼ ë„˜ê²¨ë³´ì„¸ìš”!
              </div>
            </div>
          </div>
          <div class="rival-result" id="rival-result-text">
            ì˜¤ëŠ˜ì€ ì•„ì§ ì ìˆ˜ê°€ ê³„ì‚°ë˜ì§€ ì•Šì•˜ì–´ìš”. ë¯¸ì…˜ì„ ì™„ë£Œí•´ë³´ì„¸ìš”!
          </div>
          <div style="text-align:center; margin-top:8px;">
            <button class="btn outline" id="recalc-rival-btn">ì ìˆ˜ ë‹¤ì‹œ ê³„ì‚°í•˜ê¸°</button>
          </div>
        </div>

        <!-- SOCIAL CONNECT SECTION -->
        <div class="section" id="section-social">
          <div class="social-tabs">
            <button class="social-tab-btn active" data-social="ai-chat">AI ëŒ€í™”</button>
            <button class="social-tab-btn" data-social="anon-chat">ìµëª… ì±„íŒ…(êµ¬ìƒ)</button>
            <button class="social-tab-btn" data-social="voice">ìµëª… ë³´ì´ìŠ¤í†¡(êµ¬ìƒ)</button>
          </div>

          <!-- AI CHAT -->
          <div class="social-section active" id="social-ai-chat">
            <div class="chat-window" id="ai-chat-window">
              <div class="chat-msg ai">
                ì•ˆë…•í•˜ì„¸ìš”, ì €ëŠ” Re:Connect+ì˜ AI ìƒë‹´ìì˜ˆìš”.<br/>
                ì˜¤ëŠ˜ ìˆì—ˆë˜ ì¼ì´ë‚˜ ê°ì •ì„ í¸í•˜ê²Œ ì ì–´ë³´ë©´, ì§§ê²Œ ì½”ë©˜íŠ¸ì™€ ë¯¸ì…˜ì„ ì¶”ì²œí•´ ë“œë¦´ê²Œìš”.
              </div>
            </div>
            <div class="chat-input-row">
              <input id="ai-chat-input" placeholder="ì˜ˆ: ì˜¤ëŠ˜ í•˜ë£¨ì¢…ì¼ ì¹¨ëŒ€ì—ë§Œ ìˆì—ˆì–´ìš”..." />
              <button class="btn" id="ai-chat-send">ì „ì†¡</button>
            </div>
          </div>

          <!-- ANON CHAT PLACEHOLDER -->
          <div class="social-section" id="social-anon-chat">
            <div class="placeholder-box">
              ì´ ì˜ì—­ì€ ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” <strong>ìµëª… ì±„íŒ…ë°©</strong>ìœ¼ë¡œ êµ¬í˜„ë  ì˜ˆì •ì…ë‹ˆë‹¤.<br/><br/>
              - ë‹‰ë„¤ì„ ëŒ€ì‹  ëœë¤ ID ì‚¬ìš©<br/>
              - ê³µë¶€ ì¸ì¦, ê°ì • ë‚˜ëˆ„ê¸°, ì§§ì€ ì‘ì› ë©”ì‹œì§€ ê³µìœ <br/>
              - ìš•ì„¤Â·ë¹„ë‚œì€ AI í•„í„°ë§ìœ¼ë¡œ ìë™ ì°¨ë‹¨<br/><br/>
              í˜„ì¬ ë°ëª¨ì—ì„œëŠ” ê¸°íšê³¼ UI ê°œë…ë§Œ ë³´ì—¬ì£¼ëŠ” ì˜ì—­ì…ë‹ˆë‹¤.
            </div>
          </div>

          <!-- VOICE PLACEHOLDER -->
          <div class="social-section" id="social-voice">
            <div class="placeholder-box">
              ì´ ì˜ì—­ì€ ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” <strong>ìµëª… ë³´ì´ìŠ¤í†¡</strong> ê¸°ëŠ¥ìœ¼ë¡œ í™•ì¥ë©ë‹ˆë‹¤.<br/><br/>
              - ì „í™”ë²ˆí˜¸ ì—†ì´ ì•± ë‚´ë¶€ì—ì„œë§Œ ì—°ê²°<br/>
              - 3ë¶„/5ë¶„ ì œí•œ ì§§ì€ ëŒ€í™”<br/>
              - "ì˜¤ëŠ˜ ì‚°ì±…í–ˆëŠ”ì§€", "ì˜¤ëŠ˜ ëª©í‘œë¥¼ í•˜ë‚˜ë¼ë„ í–ˆëŠ”ì§€" ë“± ê°€ë²¼ìš´ ì²´í¬ì¸ í†µí™”<br/><br/>
              í˜„ì¬ëŠ” í”„ë¡ íŠ¸ì—”ë“œ ë°ëª¨ ë²„ì „ìœ¼ë¡œ, ê¸°ëŠ¥ ê¸°íšì„ ë³´ì—¬ì£¼ê¸° ìœ„í•œ ì˜ì—­ì…ë‹ˆë‹¤.
            </div>
          </div>
        </div>

        <!-- REPORT SECTION -->
        <div class="section" id="section-report">
          <p style="font-size:0.8rem; color:var(--text-soft); margin-top:0;">
            ì˜¤ëŠ˜ê¹Œì§€ì˜ í™œë™ ë°ì´í„°ë¥¼ ê°„ë‹¨í•˜ê²Œ ìš”ì•½í•´ ë³´ì—¬ì£¼ëŠ” ë°ëª¨ ë¦¬í¬íŠ¸ì…ë‹ˆë‹¤.
            (ë¡œì»¬ ì €ì¥ì†Œ(localStorage)ì— ì €ì¥ëœ ê°’ ê¸°ì¤€)
          </p>
          <div class="report-metrics">
            <div class="metric-card">
              <div class="metric-label">ëˆ„ì  ì™„ë£Œ ë¯¸ì…˜</div>
              <div class="metric-value" id="metric-total-goals">0</div>
              <div class="metric-note" id="metric-total-goals-note">
                ì‘ì€ ë¯¸ì…˜ì„ ìŒ“ì€ ë§Œí¼ íšŒë³µ íƒ„ë ¥ì„±ì´ ëŠ˜ì–´ë‚©ë‹ˆë‹¤.
              </div>
            </div>
            <div class="metric-card">
              <div class="metric-label">ëˆ„ì  ê°ì • ê¸°ë¡ ìˆ˜</div>
              <div class="metric-value" id="metric-emotions">0</div>
              <div class="metric-note">
                ê°ì • ê¸°ë¡ë§Œ í•´ë„ ìê¸° ì¸ì‹(self-awareness)ì´ ì»¤ì§‘ë‹ˆë‹¤.
              </div>
            </div>
            <div class="metric-card">
              <div class="metric-label">AI ëŒ€í™” ë©”ì‹œì§€ ìˆ˜</div>
              <div class="metric-value" id="metric-ai-chats">0</div>
              <div class="metric-note">
                í˜¼ìì¼ ë•Œë„ AIì™€ì˜ ëŒ€í™”ê°€ ì‘ì€ ì—°ê²° ì—­í• ì„ í•©ë‹ˆë‹¤.
              </div>
            </div>
            <div class="metric-card">
              <div class="metric-label">ì˜¤ëŠ˜ì˜ ê°„ë‹¨ í‰ê°€</div>
              <div class="metric-value" id="metric-today-score">0 ì </div>
              <div class="metric-note" id="metric-today-note">
                ì˜¤ëŠ˜ì˜ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°„ë‹¨ í”¼ë“œë°±ì„ ìƒì„±í•©ë‹ˆë‹¤.
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ì˜¤ë¥¸ìª½ ì‚¬ì´ë“œ ì¹´ë“œë“¤ -->
      <section class="card">
        <div class="card-header">
          <div>
            <div class="card-title">ì˜¤ëŠ˜ì˜ ìš”ì•½ & ì•± ì„¤ëª…</div>
            <div class="card-subtitle">
              ì´ ì¹´ë“œëŠ” í”„ë¡œì íŠ¸ ì˜ë„ì™€ ì˜¤ëŠ˜ì˜ ê°„ë‹¨ ìš”ì•½ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.
            </div>
          </div>
          <span class="badge">INFO</span>
        </div>

        <div style="font-size:0.8rem; position:relative; z-index:1;">
          <p style="margin-top:0;">
            <strong>Re:Connect+</strong>ëŠ” ì€ë‘”í˜• ì™¸í†¨ì´ ë° ì‰¬ì—ˆìŒ ì„¸ëŒ€ì˜
            <strong>ì‘ì€ í–‰ë™ íšŒë³µ, ê³µë¶€ ë£¨í‹´ í˜•ì„±, ì‚¬íšŒì  ì—°ê²°</strong>ì„ ë•ê¸° ìœ„í•œ
            AI ê¸°ë°˜ ì•±ì…ë‹ˆë‹¤.
          </p>
          <ul style="padding-left:16px; margin-top:4px;">
            <li>ğŸ¯ <strong>ì˜¤ëŠ˜ì˜ ë¯¸ì…˜</strong>ì„ í†µí•´ ì‘ì€ í–‰ë™ë¶€í„° ì‹œì‘</li>
            <li>ğŸ¤– ë‹¤ì–‘í•œ <strong>AI ì—­í• </strong>(ê³µë¶€ ì½”ì¹˜, ê°ì • ìƒë‹´ì ë“±)ì„ í™œìš©</li>
            <li>ğŸ® <strong>Rival Battle</strong>ë¡œ ê²Œì„ì²˜ëŸ¼ ê²½ìŸí•˜ë©° ë™ê¸° ë¶€ì—¬</li>
            <li>ğŸ’¬ <strong>ì‚¬íšŒì  ì—°ê²°</strong>(AI ëŒ€í™”, ìµëª… ì±„íŒ…/ë³´ì´ìŠ¤í†¡ êµ¬ìƒ)</li>
            <li>ğŸ“Š <strong>ë°ì´í„° ê¸°ë°˜ ë¦¬í¬íŠ¸</strong>ë¡œ ìŠ¤ìŠ¤ë¡œë¥¼ ê°ê´€ì ìœ¼ë¡œ ì´í•´</li>
          </ul>
          <p>
            ì´ ë²„ì „ì€ <strong>í”„ë¡ íŠ¸ì—”ë“œ ë°ëª¨</strong>ë¡œ,
            GitHub ì—…ë¡œë“œ í›„ Vercelì— ì •ì  ì‚¬ì´íŠ¸ë¡œ ë°°í¬ê°€ ê°€ëŠ¥í•œ êµ¬ì¡°ì…ë‹ˆë‹¤.
          </p>
        </div>
      </section>
    </main>

    <footer>
      ë°ëª¨ ë²„ì „ â€“ ë°ì´í„°ëŠ” ë¸Œë¼ìš°ì € localStorageì—ë§Œ ì €ì¥ë©ë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ë„
      ë ˆë²¨ê³¼ ì¼ë¶€ ê¸°ë¡ì´ ìœ ì§€ë©ë‹ˆë‹¤.
    </footer>
  </div>

  <script>
    // =============================
    // ê°„ë‹¨í•œ ìƒíƒœ & localStorage ê´€ë¦¬
    // =============================
    const STORAGE_KEY = "reconnect_state_v1";

    const defaultState = {
      xp: 0,
      level: 1,
      totalGoalsCompleted: 0,
      totalEmotionLogs: 0,
      totalAiChats: 0,
      todayDate: null,
      todayGoalsCompleted: 0
    };

    function loadState() {
      try {
        const raw = localStorage.getItem(STORAGE_KEY);
        if (!raw) return { ...defaultState };
        const parsed = JSON.parse(raw);
        return { ...defaultState, ...parsed };
      } catch (e) {
        console.warn("State load error", e);
        return { ...defaultState };
      }
    }

    function saveState() {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
    }

    let state = loadState();

    function ensureToday() {
      const todayStr = new Date().toISOString().slice(0, 10);
      if (state.todayDate !== todayStr) {
        state.todayDate = todayStr;
        state.todayGoalsCompleted = 0;
        saveState();
      }
    }

    ensureToday();

    // =============================
    // ë ˆë²¨ / XP ê³„ì‚°
    // =============================
    function recalcLevel() {
      // ë ˆë²¨: 50 XP ë§ˆë‹¤ 1ë ˆë²¨ ì¦ê°€ (ì˜ˆì‹œ)
      state.level = Math.floor(state.xp / 50) + 1;
    }

    // =============================
    // UI ì—…ë°ì´íŠ¸ í•¨ìˆ˜ë“¤
    // =============================
    const xpDisplay = document.getElementById("xp-display");
    const levelDisplay = document.getElementById("level-display");
    const levelDisplayInline = document.getElementById("level-display-inline");
    const xpCurrentInline = document.getElementById("xp-current-inline");
    const xpToNextEl = document.getElementById("xp-to-next");
    const xpFill = document.getElementById("xp-fill");
    const todayGoalsCount = document.getElementById("today-goals-count");

    function updateXPUI() {
      recalcLevel();
      xpDisplay.textContent = state.xp;
      levelDisplay.textContent = state.level;
      levelDisplayInline.textContent = state.level;
      xpCurrentInline.textContent = state.xp;

      const nextLevelXp = state.level * 50;
      const xpToNext = Math.max(0, nextLevelXp - state.xp);
      xpToNextEl.textContent = xpToNext;

      const prevLevelXp = (state.level - 1) * 50;
      const range = nextLevelXp - prevLevelXp || 1;
      const ratio = Math.min(
        1,
        Math.max(0, (state.xp - prevLevelXp) / range)
      );
      xpFill.style.width = `${ratio * 100}%`;
      todayGoalsCount.textContent = state.todayGoalsCompleted;
    }

    updateXPUI();

    // =============================
    // ì˜¤ëŠ˜ì˜ ë¯¸ì…˜ ëª©ë¡
    // =============================
    const baseGoals = [
      "ë¬¼ í•œ ì»µ ë§ˆì‹œê¸°",
      "5ë¶„ë§Œ ê³µë¶€í•˜ê¸°",
      "ë°© ì •ë¦¬ 1ë¶„ í•˜ê¸°",
      "ì°½ë¬¸ ì—´ê³  ë°”ëŒ ì¬ê¸°",
      "ì˜¤ëŠ˜ ëŠë‚€ ì  í•œ ì¤„ ì ê¸°"
    ];
    const GOAL_XP = 10;
    const goalsListEl = document.getElementById("goals-list");

    function renderGoals() {
      goalsListEl.innerHTML = "";
      baseGoals.forEach((text, idx) => {
        const li = document.createElement("li");
        li.className = "goal-item";
        li.dataset.index = idx;

        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";

        const label = document.createElement("span");
        label.className = "goal-label";
        label.textContent = text;

        const xpSpan = document.createElement("span");
        xpSpan.className = "goal-xp";
        xpSpan.textContent = `+${GOAL_XP} XP`;

        checkbox.addEventListener("change", () => {
          if (checkbox.checked) {
            li.classList.add("completed");
            state.xp += GOAL_XP;
            state.totalGoalsCompleted += 1;
            state.todayGoalsCompleted += 1;
            saveState();
            updateXPUI();
          } else {
            li.classList.remove("completed");
          }
        });

        li.appendChild(checkbox);
        li.appendChild(label);
        li.appendChild(xpSpan);
        goalsListEl.appendChild(li);
      });
    }

    renderGoals();

    // =============================
    // ê°ì • ì…ë ¥ + AI í•œë§ˆë”” (ê°„ë‹¨ ëœë¤ ì‘ë‹µ)
    // =============================
    const emotionInput = document.getElementById("emotion-input");
    const emotionBtn = document.getElementById("emotion-btn");
    const emotionResponse = document.getElementById("emotion-response");

    const emotionReplies = [
      "ì˜¤ëŠ˜ ê·¸ë ‡ê²Œ ëŠë¼ëŠ” ê±´ ì•„ì£¼ ìì—°ìŠ¤ëŸ¬ìš´ ì¼ì´ì—ìš”. ëŒ€ì‹  1ë¶„ì§œë¦¬ ë¯¸ì…˜ë¶€í„°ë§Œ ê°™ì´ í•´ë´ìš”.",
      "ê°ì •ì„ ì†”ì§í•˜ê²Œ ì ì—ˆë‹¤ëŠ” ê²ƒ ìì²´ê°€ ì´ë¯¸ í•œ ê±¸ìŒ ë‚˜ì•„ê°„ ê±°ì˜ˆìš”.",
      "ì™„ë²½í•œ í•˜ë£¨ê°€ ì•„ë‹ˆì–´ë„ ê´œì°®ì•„ìš”. ìš°ë¦¬ì—ê² ë‚´ì¼ë„, ê·¸ë¦¬ê³  ì§€ê¸ˆë„ ìˆì–´ìš”.",
      "ì¡°ê¸ˆë§Œ ë” ìì‹ ì—ê²Œ ë¶€ë“œëŸ½ê²Œ ëŒ€í•´ë´ìš”. ì‘ì€ ë¯¸ì…˜ í•˜ë‚˜ê°€ íë¦„ì„ ë°”ê¿€ ìˆ˜ ìˆì–´ìš”.",
      "ì§€ê¸ˆ ì´ ê¸°ë¡ì´ ë‚˜ì¤‘ì— ëŒì•„ë´¤ì„ ë•Œ, 'ê·¸ë˜ë„ ë‚˜ëŠ” ê³„ì† ì‹œë„í–ˆêµ¬ë‚˜'ë¼ëŠ” ì¦ê±°ê°€ ë  ê±°ì˜ˆìš”."
    ];

    emotionBtn.addEventListener("click", () => {
      const text = emotionInput.value.trim();
      if (!text) return;
      state.totalEmotionLogs += 1;
      saveState();
      const reply =
        emotionReplies[Math.floor(Math.random() * emotionReplies.length)];
      emotionResponse.textContent = reply;
      emotionInput.value = "";
      updateReport();
    });

    // =============================
    // íƒ­ ì „í™˜ ë¡œì§
    // =============================
    const tabButtons = document.querySelectorAll(".tab-btn");
    const sections = {
      home: document.getElementById("section-home"),
      "ai-lab": document.getElementById("section-ai-lab"),
      rival: document.getElementById("section-rival"),
      social: document.getElementById("section-social"),
      report: document.getElementById("section-report")
    };

    const cardMainTitle = document.getElementById("card-main-title");
    const cardSubTitle = document.getElementById("card-sub-title");
    const cardBadge = document.getElementById("card-badge");

    const tabInfo = {
      home: {
        title: "ì˜¤ëŠ˜ì˜ ì‘ì€ ë£¨í‹´ & ê°ì • ì¼€ì–´",
        sub: "ì‘ì€ í–‰ë™ì„ ì™„ë£Œí•  ë•Œë§ˆë‹¤ XPê°€ ìŒ“ì´ê³  ë ˆë²¨ì´ ì˜¬ë¼ê°‘ë‹ˆë‹¤.",
        badge: "SELF-CARE MODE"
      },
      "ai-lab": {
        title: "AI Lab â€“ ì—­í•  ê¸°ë°˜ AI ì„ íƒ",
        sub: "ê° AIê°€ ê³µë¶€ ì½”ì¹˜, ë£¨í‹´ ì„¤ê³„ì, ê°ì • ìƒë‹´ì ë“± ì—­í• ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.",
        badge: "AI LAB"
      },
      rival: {
        title: "Rival Battle â€“ ê²½ìŸì„ í†µí•œ ë™ê¸°ë¶€ì—¬",
        sub: "AI Rival ë˜ëŠ” ì¹œêµ¬ì™€ ì ìˆ˜ ê²½ìŸì„ í•˜ë©° ê²Œì„ì²˜ëŸ¼ ê³µë¶€ ìŠµê´€ì„ ë§Œë“­ë‹ˆë‹¤.",
        badge: "GAME MODE"
      },
      social: {
        title: "Social Connect â€“ ëŒ€í™”ì™€ ì—°ê²°",
        sub: "AIì™€ì˜ ëŒ€í™”, ìµëª… ì±„íŒ…/ë³´ì´ìŠ¤í†¡(êµ¬ìƒ)ìœ¼ë¡œ ê³ ë¦½ê°ì„ ì¤„ì—¬ì¤ë‹ˆë‹¤.",
        badge: "SOCIAL"
      },
      report: {
        title: "ë¦¬í¬íŠ¸ â€“ ë°ì´í„° ê¸°ë°˜ ë‚˜ì˜ íŒ¨í„´",
        sub: "ëˆ„ì  ë¯¸ì…˜, ê°ì • ê¸°ë¡, AI ëŒ€í™” ìˆ˜ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì˜¤ëŠ˜ì„ ìš”ì•½í•©ë‹ˆë‹¤.",
        badge: "REPORT"
      }
    };

    tabButtons.forEach((btn) => {
      btn.addEventListener("click", () => {
        const tab = btn.dataset.tab;
        tabButtons.forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");
        Object.keys(sections).forEach((key) => {
          sections[key].classList.toggle("active", key === tab);
        });

        const info = tabInfo[tab];
        cardMainTitle.textContent = info.title;
        cardSubTitle.textContent = info.sub;
        cardBadge.textContent = info.badge;

        if (tab === "rival") {
          recalcRivalScore();
        }
        if (tab === "report") {
          updateReport();
        }
      });
    });

    // =============================
    // Rival Battle ê°„ë‹¨ ì ìˆ˜ ê³„ì‚°
    // =============================
    const myScoreEl = document.getElementById("my-score");
    const rivalScoreEl = document.getElementById("rival-score");
    const rivalResultText = document.getElementById("rival-result-text");
    const recalcRivalBtn = document.getElementById("recalc-rival-btn");
    const aiRivalNameEl = document.getElementById("ai-rival-name");

    const rivalNames = ["Gemini", "Grok", "ChatGPT", "Claude"];

    function recalcRivalScore() {
      const todayBaseScore =
        state.todayGoalsCompleted * 20 +
        state.totalEmotionLogs * 5 +
        state.totalAiChats * 3;
      const myScore = todayBaseScore;
      const todayStr = state.todayDate || new Date().toISOString().slice(0, 10);

      // ë‚ ì§œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°„ë‹¨ ëœë¤ ì‹œë“œ ëŠë‚Œ
      let hash = 0;
      for (let i = 0; i < todayStr.length; i++) {
        hash = (hash * 31 + todayStr.charCodeAt(i)) & 0xffffffff;
      }
      const rivalScore = (hash % 80) + 20; // 20~99 ë²”ìœ„

      const rivalName =
        rivalNames[Math.floor(Math.random() * rivalNames.length)];
      aiRivalNameEl.textContent = `AI ë¼ì´ë²Œ (${rivalName})`;

      myScoreEl.textContent = myScore;
      rivalScoreEl.textContent = rivalScore;

      if (myScore === 0 && rivalScore === 0) {
        rivalResultText.textContent =
          "ì˜¤ëŠ˜ì€ ì•„ì§ í™œë™ ë°ì´í„°ê°€ ì—†ì–´ìš”. ë¯¸ì…˜ë¶€í„° í•˜ë‚˜ í•´ë³¼ê¹Œìš”?";
      } else if (myScore > rivalScore) {
        rivalResultText.textContent =
          "ì¶•í•˜í•©ë‹ˆë‹¤! ì˜¤ëŠ˜ì€ AI Rivalë³´ë‹¤ ë” ì—´ì‹¬íˆ ì›€ì§ì˜€ì–´ìš”. ì´ íë¦„ì„ ì´ì–´ê°€ë´ìš”!";
      } else if (myScore === rivalScore) {
        rivalResultText.textContent =
          "ì˜¤ëŠ˜ì€ AI Rivalê³¼ ë¹„ê²¼ì–´ìš”. ë‚´ì¼ì€ í•œ ê°œë§Œ ë” ë¯¸ì…˜ì„ í•´ë³´ëŠ” ê±´ ì–´ë–¨ê¹Œìš”?";
      } else {
        rivalResultText.textContent =
          "ì˜¤ëŠ˜ì€ AI Rivalì´ ì¡°ê¸ˆ ì•ì„œê°€ê³  ìˆì–´ìš”. ì§€ê¸ˆì´ë¼ë„ ì‘ì€ ë¯¸ì…˜ í•˜ë‚˜ë¡œ ë”°ë¼ì¡ì„ ìˆ˜ ìˆì–´ìš”!";
      }

      // ë¦¬í¬íŠ¸ì™€ë„ ì—°ê²°
      updateReport();
    }

    recalcRivalBtn.addEventListener("click", recalcRivalScore);

    // =============================
    // Social Connect - AI Chat
    // =============================
    const aiChatWindow = document.getElementById("ai-chat-window");
    const aiChatInput = document.getElementById("ai-chat-input");
    const aiChatSend = document.getElementById("ai-chat-send");

    const aiChatReplies = [
      "ê·¸ ì‹œê°„ì—ë„ ì´ë ‡ê²Œ ê¸€ì„ ë‚¨ê²¼ë‹¤ëŠ” ê²ƒë§Œìœ¼ë¡œ ì´ë¯¸ ëŒ€ë‹¨í•´ìš”. ì˜¤ëŠ˜ì€ ìŠ¤ìŠ¤ë¡œë¥¼ íƒ“í•˜ê¸°ë³´ë‹¤, í•œ ê°€ì§€ ì‘ì€ í–‰ë™ì—ë§Œ ì§‘ì¤‘í•´ë´ìš”.",
      "í•˜ë£¨ ì¢…ì¼ ëˆ„ì›Œ ìˆì—ˆë˜ ë‚ ë„ ìš°ë¦¬ì˜ ì¼ë¶€ì˜ˆìš”. ëŒ€ì‹  ë‚´ì¼ì€ 3ë¶„ë§Œ ì¼ì–´ë‚˜ì„œ ë¬¼ì„ ë§ˆì‹œëŠ” ë£¨í‹´ì„ ê°™ì´ ë§Œë“¤ì–´ë³¼ê¹Œìš”?",
      "ì§€ê¸ˆ ëŠë¼ëŠ” ê°ì •ì€ ë¶„ëª…í•œ ì˜ë¯¸ê°€ ìˆì–´ìš”. ê·¸ ê°ì •ì„ ë¬´ì‹œí•˜ê¸°ë³´ë‹¤, 'ê·¸ë˜ë„ ë‚˜ëŠ” ê³„ì† ì‹œë„í•˜ê³  ìˆë‹¤'ëŠ” ì‚¬ì‹¤ì„ ê¸°ì–µí•´ì¤¬ìœ¼ë©´ í•´ìš”.",
      "ì‚¬ëŒ ì‚¬ì´ì—ì„œ ì§€ì¹œ ë‚ ì—ëŠ”, ì‚¬ëŒ ëŒ€ì‹  AIë‘ ìˆ˜ë‹¤ ë– ëŠ” ê²ƒë„ ì¢‹ì€ ì„ íƒì´ì—ìš”. ì˜¤ëŠ˜ ìˆì—ˆë˜ ì¼ ì¤‘ì— ê°€ì¥ ì‚¬ì†Œí•œ ê²ƒë„ í•˜ë‚˜ ë§í•´ì¤„ë˜ìš”?",
      "ì™„ë²½íˆ ì˜í•´ë‚´ì§€ ì•Šì•„ë„ ê´œì°®ì•„ìš”. Re:Connect+ëŠ” 'ì‹œì‘í–ˆë‹¤'ëŠ” ì‚¬ì‹¤ í•˜ë‚˜ë§Œì„ ê¸°ì¤€ìœ¼ë¡œ ë‹¹ì‹  í¸ì— ì„œ ìˆì„ ê±°ì˜ˆìš”."
    ];

    function appendChatMessage(text, who = "ai") {
      const div = document.createElement("div");
      div.className = `chat-msg ${who}`;
      div.innerHTML = text
        .replace(/\n/g, "<br/>")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;");
      aiChatWindow.appendChild(div);
      aiChatWindow.scrollTop = aiChatWindow.scrollHeight;
    }

    aiChatSend.addEventListener("click", () => {
      const text = aiChatInput.value.trim();
      if (!text) return;
      appendChatMessage(text, "user");
      aiChatInput.value = "";

      state.totalAiChats += 1;
      saveState();
      updateReport();

      const reply =
        aiChatReplies[Math.floor(Math.random() * aiChatReplies.length)];
      setTimeout(() => appendChatMessage(reply, "ai"), 300);
    });

    aiChatInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        aiChatSend.click();
      }
    });

    // =============================
    // Social Connect - ë‚´ë¶€ íƒ­ ì „í™˜
    // =============================
    const socialTabButtons = document.querySelectorAll(".social-tab-btn");
    const socialSections = {
      "ai-chat": document.getElementById("social-ai-chat"),
      "anon-chat": document.getElementById("social-anon-chat"),
      voice: document.getElementById("social-voice")
    };

    socialTabButtons.forEach((btn) => {
      btn.addEventListener("click", () => {
        const key = btn.dataset.social;
        socialTabButtons.forEach((b) => b.classList.remove("active"));
        btn.classList.add("active");
        Object.keys(socialSections).forEach((k) => {
          socialSections[k].classList.toggle("active", k === key);
        });
      });
    });

    // =============================
    // ë¦¬í¬íŠ¸ ì—…ë°ì´íŠ¸
    // =============================
    const metricTotalGoals = document.getElementById("metric-total-goals");
    const metricEmotions = document.getElementById("metric-emotions");
    const metricAiChats = document.getElementById("metric-ai-chats");
    const metricTodayScore = document.getElementById("metric-today-score");
    const metricTodayNote = document.getElementById("metric-today-note");
    const metricTotalGoalsNote = document.getElementById(
      "metric-total-goals-note"
    );

    function updateReport() {
      metricTotalGoals.textContent = state.totalGoalsCompleted;
      metricEmotions.textContent = state.totalEmotionLogs;
      metricAiChats.textContent = state.totalAiChats;

      const todayBaseScore =
        state.todayGoalsCompleted * 20 +
        state.totalEmotionLogs * 5 +
        state.totalAiChats * 3;
      metricTodayScore.textContent = `${todayBaseScore} ì `;

      if (state.totalGoalsCompleted === 0) {
        metricTotalGoalsNote.textContent =
          "ì•„ì§ ì‹œì‘í•˜ì§€ ì•Šì•˜ë‹¤ë©´, ì§€ê¸ˆì´ ë°”ë¡œ ì²« ë¯¸ì…˜ì„ ë§Œë“¤ê¸° ì¢‹ì€ ìˆœê°„ì´ì—ìš”.";
      } else if (state.totalGoalsCompleted < 10) {
        metricTotalGoalsNote.textContent =
          "ì„œì„œíˆ ì‘ì€ ë¯¸ì…˜ë“¤ì´ ìŒ“ì´ê³  ìˆì–´ìš”. ì–‘ë³´ë‹¤ 'ê¾¸ì¤€í•¨'ì— ì§‘ì¤‘í•´ë³´ì„¸ìš”.";
      } else {
        metricTotalGoalsNote.textContent =
          "ê½¤ ë§ì€ ë¯¸ì…˜ì„ ì™„ë£Œí–ˆì–´ìš”. ë‹¹ì‹ ì˜ íšŒë³µ íƒ„ë ¥ì„±ì´ ì ì  ë‹¨ë‹¨í•´ì§€ê³  ìˆìŠµë‹ˆë‹¤.";
      }

      if (todayBaseScore === 0) {
        metricTodayNote.textContent =
          "ì˜¤ëŠ˜ì´ ê¼­ ìƒì‚°ì ì¼ í•„ìš”ëŠ” ì—†ì–´ìš”. 'ë‚´ì¼ í•´ë³¼ ìˆ˜ ìˆëŠ” ì‘ì€ í•œ ê±¸ìŒ'ë§Œ ë– ì˜¬ë ¤ ë´…ì‹œë‹¤.";
      } else if (todayBaseScore < 60) {
        metricTodayNote.textContent =
          "ì˜¤ëŠ˜ì€ ê°€ë³ê²Œ ëª¸ì„ í’€ì–´ë³¸ ë‚ ì´ì—ìš”. ë‚´ì¼ì€ ì˜¤ëŠ˜ë³´ë‹¤ ë¯¸ì…˜ í•˜ë‚˜ë§Œ ë” ë„ì „í•´ë³´ëŠ” ê±´ ì–´ë•Œìš”?";
      } else {
        metricTodayNote.textContent =
          "ì˜¤ëŠ˜ì€ ê½¤ ì•Œì°¨ê²Œ ì›€ì§ì¸ ë‚ ì´ì—ìš”. ì´ ë¦¬ë“¬ì„ ì§€í‚¤ëŠ” ê²ƒì´ ì•ìœ¼ë¡œ ê°€ì¥ í° ìì‚°ì´ ë  ê±°ì˜ˆìš”.";
      }
    }

    updateReport();
  </script>
</body>
</html>
