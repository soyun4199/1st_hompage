<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Re:Connect+ â€“ AI ê¸°ë°˜ ë£¨í‹´ & ì—°ê²° ì•±</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- ë¼ì´íŠ¸ëª¨ë“œ Â· ì•„ì´í° ìŠ¤íƒ€ì¼ UI -->
  <style>
    :root {
      --bg: #f5f7fb;
      --card: #ffffff;
      --border: #e5e7eb;
      --text: #1f2937;
      --text-light: #6b7280;
      --primary: #2563eb;
      --primary-soft: #dbeafe;
      --radius: 14px;
      --shadow: 0 4px 14px rgba(0,0,0,0.08);
      --shadow-lg: 0 10px 24px rgba(0,0,0,0.12);
    }

    body {
      margin: 0;
      padding: 0;
      background: var(--bg);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      color: var(--text);
    }

    .app {
      max-width: 1150px;
      margin: 0 auto;
      padding: 20px;
    }

    /* ìƒë‹¨ ë¡œê³  + ìŠ¬ë¡œê±´ */
    header {
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      flex-wrap: wrap;
      margin-bottom: 18px;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .logo-icon {
      width: 42px;
      height: 42px;
      border-radius: 14px;
      background: linear-gradient(135deg, #3b82f6, #2563eb);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 1.1rem;
      box-shadow: var(--shadow);
    }

    .logo-title {
      font-size: 1.3rem;
      font-weight: 700;
    }

    .logo-subtitle {
      font-size: 0.82rem;
      color: var(--text-light);
    }

    .tagline {
      font-size: 0.75rem;
      color: var(--text-light);
      text-align: right;
    }

    /* ìƒë‹¨ ìƒíƒœ í‘œì‹œ */
    .status-row {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      margin-bottom: 16px;
    }

    .status-box {
      flex: 1;
      min-width: 180px;
      background: var(--card);
      padding: 14px 16px;
      border-radius: var(--radius);
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
    }

    .status-label {
      font-size: 0.78rem;
      color: var(--text-light);
    }

    .status-value {
      font-size: 1.05rem;
      font-weight: 700;
      margin-top: 4px;
    }

    /* ë„¤ë¹„ê²Œì´ì…˜ íƒ­ */
    .tabs {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-bottom: 18px;
    }

    .tab-btn {
      flex: 1;
      min-width: 120px;
      padding: 10px;
      border-radius: var(--radius);
      border: 1px solid var(--border);
      background: #ffffff;
      font-size: 0.83rem;
      color: var(--text);
      cursor: pointer;
      box-shadow: var(--shadow);
      transition: 0.2s;
    }

    .tab-btn.active {
      background: var(--primary);
      color: white;
      border-color: var(--primary);
      box-shadow: var(--shadow-lg);
    }

    /* ë©”ì¸ ì¹´ë“œ */
    .card {
      background: var(--card);
      border-radius: var(--radius);
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      padding: 20px;
      margin-bottom: 20px;
    }

    .card-title {
      font-weight: 700;
      font-size: 1rem;
      margin-bottom: 4px;
    }

    .card-sub {
      font-size: 0.8rem;
      color: var(--text-light);
      margin-bottom: 16px;
    }

    /* XPë°” */
    .xp-container {
      margin-bottom: 18px;
    }

    .xp-header {
      display: flex;
      justify-content: space-between;
      font-size: 0.75rem;
      color: var(--text-light);
    }

    .xp-bar {
      width: 100%;
      height: 10px;
      border-radius: 999px;
      background: #e5e7eb;
      overflow: hidden;
      margin-top: 6px;
    }

    .xp-fill {
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, #3b82f6, #2563eb);
      transition: width 0.25s;
    }

    /* ì²´í¬ë°•ìŠ¤ ë¯¸ì…˜ */
    .mission-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-bottom: 20px;
    }

    .mission-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 14px;
      background: var(--bg);
      border-radius: var(--radius);
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
    }

    .mission-item.completed {
      opacity: 0.6;
      text-decoration: line-through;
    }

    /* ê°ì • ì…ë ¥ */
    .emotion-box {
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 14px;
      box-shadow: var(--shadow);
    }

    .emotion-input {
      width: 100%;
      padding: 10px;
      font-size: 0.82rem;
      border: 1px solid var(--border);
      border-radius: var(--radius);
      margin-top: 8px;
    }

    .btn {
      margin-top: 10px;
      padding: 10px 16px;
      background: var(--primary);
      color: white;
      border: none;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      font-size: 0.82rem;
      cursor: pointer;
    }

    .section {
      display: none;
    }
    .section.active {
      display: block;
    }
  </style>
</head>

<body>
<div class="app">
  <header>
    <div class="logo">
      <div class="logo-icon">R</div>
      <div>
        <div class="logo-title">Re:Connect+</div>
        <div class="logo-subtitle">AI ê¸°ë°˜ ë£¨í‹´ & ì—°ê²° í”Œë«í¼</div>
      </div>
    </div>
    <div class="tagline">
      ì‘ì€ í–‰ë™ â†’ ë£¨í‹´ â†’ ì—°ê²° íšŒë³µ  
    </div>
  </header>

  <!-- ìƒë‹¨ ìƒíƒœ -->
  <div class="status-row">
    <div class="status-box">
      <div class="status-label">í˜„ì¬ ë ˆë²¨</div>
      <div class="status-value" id="level-display">1</div>
    </div>
    <div class="status-box">
      <div class="status-label">ì´ XP</div>
      <div class="status-value" id="xp-display">0</div>
    </div>
    <div class="status-box">
      <div class="status-label">ì˜¤ëŠ˜ ì™„ë£Œí•œ ë¯¸ì…˜</div>
      <div class="status-value" id="today-goals-count">0</div>
    </div>
  </div>

  <!-- íƒ­ -->
  <div class="tabs">
    <button class="tab-btn active" data-tab="home">ğŸ  í™ˆ</button>
    <button class="tab-btn" data-tab="ai">ğŸ¤– AI Lab</button>
    <button class="tab-btn" data-tab="rival">ğŸ® Rival</button>
    <button class="tab-btn" data-tab="social">ğŸ’¬ Social</button>
    <button class="tab-btn" data-tab="report">ğŸ“Š ë¦¬í¬íŠ¸</button>
  </div>

  <!-- ë©”ì¸ ì¹´ë“œ ì‹œì‘ -->
  <div class="card">
    <div class="card-title" id="main-title">ì˜¤ëŠ˜ì˜ ì‘ì€ ë£¨í‹´</div>
    <div class="card-sub" id="main-sub">ì‘ì€ í–‰ë™ì„ í•˜ë©´ XPê°€ ìŒ“ì…ë‹ˆë‹¤</div>

    <!-- HOME SECTION -->
    <div class="section active" id="section-home">
      <div class="xp-container">
        <div class="xp-header">
          <span>ë ˆë²¨ <span id="level-inline">1</span></span>
          <span><span id="xp-inline">0</span> XP</span>
        </div>
        <div class="xp-bar"><div class="xp-fill" id="xp-fill"></div></div>
      </div>

      <div class="mission-list" id="mission-list"></div>

      <div class="emotion-box">
        <div style="font-size:0.8rem;">ì˜¤ëŠ˜ ê¸°ë¶„ì€ ì–´ë• ë‚˜ìš”?</div>
        <input id="emotion-input" class="emotion-input" placeholder="ì˜ˆ: ì•„ë¬´ê²ƒë„ í•˜ê¸° ì‹«ì—ˆì–´ìš”..."/>
        <button id="emotion-btn" class="btn">ê¸°ë¡ + AI í•œë§ˆë””</button>
        <div id="emotion-response" style="font-size:0.75rem; margin-top:6px; color:var(--text-light);"></div>
      </div>
    </div>
    <!-- AI LAB SECTION -->
    <div class="section" id="section-ai">
      <div style="margin-bottom:16px;font-size:0.9rem;font-weight:600;">
        ì—­í•  ê¸°ë°˜ AI ì„ íƒ
      </div>

      <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:12px;">
        <div class="card" style="padding:14px;">
          <div style="font-weight:600;">ChatGPT</div>
          <div style="font-size:0.78rem;color:var(--text-light);margin-top:6px;">
            ê³µë¶€ ì½”ì¹˜ Â· ê°œë… ì„¤ëª… Â· ê³¼ì œ ë„ì›€
          </div>
        </div>

        <div class="card" style="padding:14px;">
          <div style="font-weight:600;">Gemini</div>
          <div style="font-size:0.78rem;color:var(--text-light);margin-top:6px;">
            ë£¨í‹´ ì„¤ê³„ Â· ì¼ì • ì¶”ì²œ
          </div>
        </div>

        <div class="card" style="padding:14px;">
          <div style="font-weight:600;">Claude</div>
          <div style="font-size:0.78rem;color:var(--text-light);margin-top:6px;">
            ê°ì • ìƒë‹´ Â· ì €ë„ë§ íŒŒíŠ¸ë„ˆ
          </div>
        </div>

        <div class="card" style="padding:14px;">
          <div style="font-weight:600;">Grok</div>
          <div style="font-size:0.78rem;color:var(--text-light);margin-top:6px;">
            ë„ë°œ ê¸°ë°˜ ë™ê¸°ë¶€ì—¬ Rival
          </div>
        </div>
      </div>
    </div>

    <!-- RIVAL SECTION -->
    <div class="section" id="section-rival">
      <div style="margin-bottom:14px;font-size:0.9rem;font-weight:600;">
        AI Rival ì ìˆ˜ ê²½ìŸ
      </div>

      <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
        <div class="card" style="padding:14px;">
          <div style="font-size:0.82rem;color:var(--text-light);">ë‚˜ì˜ ì˜¤ëŠ˜ ì ìˆ˜</div>
          <div id="my-score" style="font-size:1.4rem;font-weight:700;margin-top:6px;">0</div>
        </div>

        <div class="card" style="padding:14px;">
          <div id="rival-name" style="font-size:0.82rem;color:var(--text-light);">AI Rival (GPT)</div>
          <div id="rival-score" style="font-size:1.4rem;font-weight:700;margin-top:6px;color:#dc2626;">0</div>
        </div>
      </div>

      <div id="rival-result" style="margin-top:12px;font-size:0.82rem;color:var(--text-light);">
        ì˜¤ëŠ˜ì€ ì•„ì§ ì ìˆ˜ê°€ ê³„ì‚°ë˜ì§€ ì•Šì•˜ì–´ìš”.
      </div>

      <button id="rival-recalc" class="btn" style="margin-top:14px;">ì ìˆ˜ ë‹¤ì‹œ ê³„ì‚°í•˜ê¸°</button>
    </div>

    <!-- SOCIAL SECTION -->
    <div class="section" id="section-social">
      <div style="margin-bottom:14px;font-size:0.9rem;font-weight:600;">
        Social Connect
      </div>

      <!-- ì‘ì€ íƒ­ -->
      <div style="display:flex;gap:8px;margin-bottom:12px;">
        <button class="tab-btn social-sub active" data-social="ai-chat" style="flex:1;">AI ëŒ€í™”</button>
        <button class="tab-btn social-sub" data-social="anon" style="flex:1;">ìµëª… ì±„íŒ…</button>
        <button class="tab-btn social-sub" data-social="voice" style="flex:1;">ë³´ì´ìŠ¤í†¡</button>
      </div>

      <!-- AI CHAT WINDOW -->
      <div class="social-box" id="social-ai-chat">
        <div id="chat-window" style="
          height:160px;background:white;border-radius:var(--radius);
          border:1px solid var(--border);padding:10px;overflow-y:auto;
        ">
          <div style="
            background:#f1f5f9;padding:8px 10px;border-radius:var(--radius);
            width:max-content;max-width:75%;margin-bottom:6px;
          ">
            ì•ˆë…•í•˜ì„¸ìš”! í¸í•˜ê²Œ ë§ ê±¸ì–´ì£¼ì„¸ìš” ğŸ˜Š
          </div>
        </div>

        <input id="chat-input" class="emotion-input" placeholder="ì˜ˆ: ì˜¤ëŠ˜ ì¢€ í˜ë“¤ì—ˆì–´ìš”..." />
        <button id="chat-send" class="btn">ì „ì†¡</button>
      </div>

      <!-- ìµëª… ì±„íŒ… ì•ˆë‚´ -->
      <div class="social-box" id="social-anon" style="display:none;">
        <div style="padding:14px;border-radius:var(--radius);background:var(--bg);border:1px solid var(--border);">
          ìµëª… ì»¤ë®¤ë‹ˆí‹°ëŠ” ë°ëª¨ ë²„ì „ì—ì„œ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.<br/>
          ìš•ì„¤ í•„í„°ë§ + ê°€ë²¼ìš´ ì‘ì› ë©”ì‹œì§€ ê³µìœ  ê³µê°„ìœ¼ë¡œ í™•ì¥ ì˜ˆì •!
        </div>
      </div>

      <!-- ë³´ì´ìŠ¤í†¡ ì•ˆë‚´ -->
      <div class="social-box" id="social-voice" style="display:none;">
        <div style="padding:14px;border-radius:var(--radius);background:var(--bg);border:1px solid var(--border);">
          ë³´ì´ìŠ¤í†¡ì€ ì‹¤ì œ ì•±ì—ì„œëŠ” ì „í™”ë²ˆí˜¸ ì—†ì´ AI ë˜ëŠ” ì‚¬ìš©ìì™€ ì—°ê²°ë  ì˜ˆì •ì…ë‹ˆë‹¤.<br/>
          ë°ëª¨ì—ì„œëŠ” UI ê°œë…ë§Œ ì œê³µë©ë‹ˆë‹¤.
        </div>
      </div>
    </div>

    <!-- REPORT SECTION -->
    <div class="section" id="section-report">
      <div style="margin-bottom:14px;font-size:0.9rem;font-weight:600;">
        í™œë™ ë¦¬í¬íŠ¸ ìš”ì•½
      </div>

      <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:12px;">
        <div class="card" style="padding:14px;">
          <div style="font-size:0.78rem;color:var(--text-light);">ëˆ„ì  ì™„ë£Œí•œ ë¯¸ì…˜</div>
          <div id="report-goals" style="font-size:1.3rem;font-weight:700;margin-top:4px;">0</div>
        </div>

        <div class="card" style="padding:14px;">
          <div style="font-size:0.78rem;color:var(--text-light);">ê°ì • ê¸°ë¡ ìˆ˜</div>
          <div id="report-emotions" style="font-size:1.3rem;font-weight:700;margin-top:4px;">0</div>
        </div>

        <div class="card" style="padding:14px;">
          <div style="font-size:0.78rem;color:var(--text-light);">AI ëŒ€í™” ìˆ˜</div>
          <div id="report-chats" style="font-size:1.3rem;font-weight:700;margin-top:4px;">0</div>
        </div>

        <div class="card" style="padding:14px;">
          <div style="font-size:0.78rem;color:var(--text-light);">ì˜¤ëŠ˜ì˜ ì ìˆ˜</div>
          <div id="report-today" style="font-size:1.3rem;font-weight:700;margin-top:4px;">0 ì </div>
        </div>
      </div>
    </div>
  </div> <!-- card ë -->

  <script>
    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         ê¸°ë³¸ ìƒíƒœ ì €ì¥
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const STORAGE_KEY = "reconnect_state_v2";
    let state = JSON.parse(localStorage.getItem(STORAGE_KEY) || "{}");

    // ê¸°ë³¸ê°’ ì„¤ì •
    if (!state.xp) state = {
      xp: 0,
      level: 1,
      totalGoals: 0,
      todayGoals: 0,
      emotionLogs: 0,
      aiChats: 0
    };

    function save() {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
    }

    function updateTopUI() {
      document.getElementById("level-display").textContent = state.level;
      document.getElementById("xp-display").textContent = state.xp;
      document.getElementById("today-goals-count").textContent = state.todayGoals;
      document.getElementById("level-inline").textContent = state.level;
      document.getElementById("xp-inline").textContent = state.xp;

      const nextXP = state.level * 50;
      const fill = Math.min(100, (state.xp / nextXP) * 100);
      document.getElementById("xp-fill").style.width = fill + "%";
    }
    updateTopUI();

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         í™ˆ â€“ ë¯¸ì…˜ ëª©ë¡
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const missions = [
      "ë¬¼ í•œ ì»µ ë§ˆì‹œê¸°",
      "5ë¶„ë§Œ ê³µë¶€í•˜ê¸°",
      "ë°© ì •ë¦¬ 1ë¶„ í•˜ê¸°",
      "ì°½ë¬¸ ì—´ê³  ë°”ëŒ ì¬ê¸°",
      "ì˜¤ëŠ˜ ëŠë‚€ ì  í•œ ì¤„ ì ê¸°"
    ];

    const missionList = document.getElementById("mission-list");

    missions.forEach((m) => {
      const div = document.createElement("div");
      div.className = "mission-item";

      const cb = document.createElement("input");
      cb.type = "checkbox";

      const label = document.createElement("span");
      label.textContent = m;

      cb.addEventListener("change", () => {
        if (cb.checked) {
          div.classList.add("completed");
          state.xp += 10;
          state.todayGoals++;
          state.totalGoals++;
        } else {
          div.classList.remove("completed");
        }
        state.level = Math.floor(state.xp / 50) + 1;
        save();
        updateTopUI();
      });

      div.appendChild(cb);
      div.appendChild(label);
      missionList.appendChild(div);
    });

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         ê°ì • ê¸°ë¡
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const emotionBtn = document.getElementById("emotion-btn");
    const emotionInput = document.getElementById("emotion-input");
    const emotionResponse = document.getElementById("emotion-response");

    const emotionReplies = [
      "ê´œì°®ì•„ìš”. ì˜¤ëŠ˜ì€ ì‘ì€ ê²ƒ í•˜ë‚˜ë§Œ í•´ë´ìš”.",
      "í˜ë“  ë‚ ë„ ìˆì–´ìš”. ê·¸ë˜ë„ ê¸°ë¡í•œ ë‹¹ì‹ ì´ ëŒ€ë‹¨í•´ìš”.",
      "ì¡°ê¸ˆì”© ë‚˜ì•„ì§€ë©´ ë¼ìš”. ì €ëŠ” í•­ìƒ ì—¬ê¸° ìˆì–´ìš”.",
      "ë„ˆë¬´ ì˜í•˜ê³  ìˆì–´ìš”. ì˜¤ëŠ˜ ìì‹ ì„ ë„ˆë¬´ ëª°ì•„ë¶™ì´ì§€ ë§ì•„ìš”."
    ];

    emotionBtn.addEventListener("click", () => {
      if (!emotionInput.value.trim()) return;
      state.emotionLogs++;
      save();
      const msg = emotionReplies[Math.floor(Math.random()*emotionReplies.length)];
      emotionResponse.textContent = msg;
      emotionInput.value = "";
      updateReport();
    });

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         íƒ­ ì „í™˜
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const tabs = document.querySelectorAll(".tab-btn");
    const sections = {
      home: document.getElementById("section-home"),
      ai: document.getElementById("section-ai"),
      rival: document.getElementById("section-rival"),
      social: document.getElementById("section-social"),
      report: document.getElementById("section-report"),
    };

    tabs.forEach((btn) => {
      btn.addEventListener("click", () => {
        tabs.forEach(b=>b.classList.remove("active"));
        btn.classList.add("active");

        const tab = btn.dataset.tab;
        Object.keys(sections).forEach(id => {
          sections[id].classList.toggle("active", id===tab);
        });

        if (tab === "rival") recalcRival();
        if (tab === "report") updateReport();

        document.getElementById("main-title").textContent =
          btn.textContent.replace(/[^ê°€-í£a-zA-Z ]/g, "");
      });
    });

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         Rival Battle
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const rivalNames = ["GPT", "Gemini", "Claude", "Grok"];

    function recalcRival() {
      const myScore = state.todayGoals * 20 + state.emotionLogs * 5 + state.aiChats * 3;
      const rivalScore = Math.floor(Math.random()*70)+20;

      const name = rivalNames[Math.floor(Math.random()*rivalNames.length)];

      document.getElementById("my-score").textContent = myScore;
      document.getElementById("rival-score").textContent = rivalScore;
      document.getElementById("rival-name").textContent = `AI Rival (${name})`;

      const result = document.getElementById("rival-result");
      if (myScore > rivalScore) result.textContent = "ğŸ‰ ì˜¤ëŠ˜ì€ ë‹¹ì‹ ì˜ ìŠ¹ë¦¬!";
      else if (myScore === rivalScore) result.textContent = "ğŸ¤ ì˜¤ëŠ˜ì€ ë™ì ì´ì—ìš”!";
      else result.textContent = "ğŸ”¥ Rivalì´ ì•ì„œê°€ìš”! ì§€ê¸ˆ ë¯¸ì…˜ í•˜ë‚˜ë§Œ ë”!";
      
      updateReport();
    }

    document.getElementById("rival-recalc").addEventListener("click", recalcRival);

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         Social - AI Chat
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const chatWindow = document.getElementById("chat-window");
    const chatInput = document.getElementById("chat-input");
    const chatSend = document.getElementById("chat-send");

    const aiReplies = [
      "ê·¸ëŸ´ ìˆ˜ ìˆì–´ìš”. ê´œì°®ì•„ìš”.",
      "ì˜¤ëŠ˜ ì°¸ ê³ ìƒí–ˆì–´ìš”.",
      "ì €ë‘ ì¡°ê¸ˆ ë” ì´ì•¼ê¸°í•´ì¤„ë˜ìš”?",
      "ì¡°ê¸ˆì”© ë‚˜ì•„ì§ˆ ê±°ì˜ˆìš”.",
      "ë‹¹ì‹ ì€ ì˜í•˜ê³  ìˆì–´ìš”."
    ];

    chatSend.addEventListener("click", () => {
      if (!chatInput.value.trim()) return;

      // ì‚¬ìš©ì ë§í’ì„ 
      appendChat(chatInput.value, "user");
      chatInput.value = "";

      state.aiChats++;
      save();
      updateReport();

      // AI ì‘ë‹µ
      const reply = aiReplies[Math.floor(Math.random()*aiReplies.length)];
      setTimeout(()=>appendChat(reply,"ai"),300);
    });

    function appendChat(text, who) {
      const bubble = document.createElement("div");
      bubble.textContent = text;
      bubble.style.maxWidth = "75%";
      bubble.style.padding = "8px 10px";
      bubble.style.borderRadius = "14px";
      bubble.style.marginBottom = "6px";
      bubble.style.whiteSpace = "pre-wrap";

      if (who === "user") {
        bubble.style.background = "#dbeafe";
        bubble.style.marginLeft = "auto";
      } else {
        bubble.style.background = "#f1f5f9";
      }

      chatWindow.appendChild(bubble);
      chatWindow.scrollTop = chatWindow.scrollHeight;
    }

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         Social ë‚´ë¶€ íƒ­
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    const socialTabs = document.querySelectorAll(".social-sub");
    const socialBoxes = {
      "ai-chat": document.getElementById("social-ai-chat"),
      anon: document.getElementById("social-anon"),
      voice: document.getElementById("social-voice"),
    };

    socialTabs.forEach(btn=>{
      btn.addEventListener("click",()=>{
        socialTabs.forEach(b=>b.classList.remove("active"));
        btn.classList.add("active");
        const key = btn.dataset.social;
        Object.keys(socialBoxes).forEach(k=>{
          socialBoxes[k].style.display = k===key ? "block":"none";
        });
      });
    });

    /* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         Report ì—…ë°ì´íŠ¸
    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    function updateReport() {
      document.getElementById("report-goals").textContent = state.totalGoals;
      document.getElementById("report-emotions").textContent = state.emotionLogs;
      document.getElementById("report-chats").textContent = state.aiChats;

      const todayScore = state.todayGoals * 20 + state.emotionLogs * 5 + state.aiChats * 3;
      document.getElementById("report-today").textContent = `${todayScore} ì `;
    }
    updateReport();
  </script>
</div>
</body>
</html>
